<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


<section class="main-content">
  <div class="container1 ">
  </div>
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h1 style="text-align: center" class="title-page">Thông tin vật tư</h1>
      </div>
    </div>
    <!--        <hr>-->
    <div class="row">
      <div class="col-4">
        <button type="button" class="btn btn-outline-success">+ Thêm mới</button>

      </div>
      <div class="col-8">
        <div class="uk-margin" style="display: flex; justify-content: end">
          <form [formGroup]="keywordForm" class="uk-search uk-search-default" >
            <input style="border-radius: 5px" class="form-control" type="search" placeholder="Tìm kiếm" formControlName="keyword">
            <button (click)="changeKW(keywordForm.controls.keyword.value)" type="button" class="btn btn-outline-secondary">Tìm kiếm</button>
          </form>
        </div>
      </div>
    </div>

    <ng-container *ngIf="message !== '';else elseBlock">
      <h1 style="color: red; text-align: center; width: 100%; margin-top: 50px">{{message}}</h1>
    </ng-container>
    <ng-template #elseBlock>
      <table class="table table-striped table-hover ">
        <thead>
        <tr>
          <th>STT</th>
          <th>Mã VT</th>
          <th>Tên vật tư</th>
          <th>Loại vật tư</th>
          <th>Giá thành(VND)</th>
          <th>Hạn sử dụng</th>
          <th>Nhà cung cấp</th>
          <th>Hình ảnh</th>
          <th>Tình trạng</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let s of equipment; index as i ">
          <td>
            <div class="user-info">
              <!--								<div class="user-info__img">-->
              <!--									<img src="img/user1.jpg" alt="User Img">-->
              <!--								</div>-->
              <div class="user-info__basic">
                <h5 class="mb-0">{{i +1}}</h5>
                <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              </div>
            </div>
          </td>
          <td>
            <div class="user-info">
              <!--								<div class="user-info__img">-->
              <!--									<img src="img/user1.jpg" alt="User Img">-->
              <!--								</div>-->
              <div class="user-info__basic">
                <h5 class="mb-0">{{s.code}}</h5>
                <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              </div>
            </div>
          </td>
          <td>
            <div class="user-info">
              <!--								<div class="user-info__img">-->
              <!--									<img src="img/user1.jpg" alt="User Img">-->
              <!--								</div>-->
              <div class="user-info__basic">
                <h5 class="mb-0">{{s.name}}</h5>
                <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              </div>
            </div>
          </td>
          <td>
            <div class="user-info">
              <!--								<div class="user-info__img">-->
              <!--									<img src="img/user1.jpg" alt="User Img">-->
              <!--								</div>-->
              <div class="user-info__basic">
                <h5 class="mb-0">{{s.equipmentType.name}}</h5>
                <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              </div>
            </div>
          </td>
          <td>
            <div class="user-info">
              <!--								<div class="user-info__img">-->
              <!--									<img src="img/user1.jpg" alt="User Img">-->
              <!--								</div>-->
              <div class="user-info__basic">
                <h5 class="mb-0">{{s.price}}</h5>
                <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              </div>
            </div>
          </td>
          <td>
            <div class="user-info">
              <!--								<div class="user-info__img">-->
              <!--									<img src="img/user1.jpg" alt="User Img">-->
              <!--								</div>-->
              <div class="user-info__basic">
                <h5 class="mb-0">{{s.expired}}</h5>
                <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              </div>
            </div>
          </td>
          <td>
            <div class="user-info">
              <!--								<div class="user-info__img">-->
              <!--									<img src="img/user1.jpg" alt="User Img">-->
              <!--								</div>-->
              <div class="user-info__basic">
                <h5 class="mb-0">{{s.supplier.name}}</h5>
                <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              </div>
            </div>
          </td>
          <td>
            <div class="user-info">
              <div class="user-info__img">
                <!--              <img src="https://ykhoathammyquangminh.com/image/catalog/8b89413979869bd8c297.jpg"-->
                <!--                   alt="User Img">-->
                <img [src]="s.image">
              </div>
              <!--								<div class="user-info__basic">-->
              <!--									<h5 class="mb-0">Kiran Acharya</h5>-->
              <!--									<p class="text-muted mb-0">@kiranacharyaa</p>-->
              <!--								</div>-->
            </div>
          </td>
          <td *ngIf="s.status == 1">
            <span class="badge rounded-pill badge-warning">New</span> Hàng mới
          </td>
          <td *ngIf="s.status == 2">
            <span class="active-circle bg-success"></span> Còn hàng
          </td>

          <td *ngIf="s.status == 3">
            <span class="active-circle bg-danger"></span> Hết hàng
          </td>
          <td><a class="dropdown-item" href="#"><i class="fa fa-pencil mr-1"></i> </a> <span>
          <a  (click)="openDialog(s.id)" class="dropdown-item text-danger" ><i class="fa fa-trash mr-1"></i> </a></span>
          </td>
        </tr>

        </tbody>
      </table>
    </ng-template>
  </div>
  <div style="display: flex;justify-content: center">
    <div class="align-content-center">
      <div class="me-5 pe-4 ">
        <ul class="pagination pagination-sm justify-content-end  pagination-lg" style="margin:20px 0">
          <div *ngIf="this.page >0 then previous"></div>
          <ng-template #previous>
            <li class="page-item">
              <button
                (click)="previousClick(1)" class="page-link" type="button">Trang trước
              </button>
            </li>
          </ng-template>
          <li class="page-item">
            <input class="page-link" type="number" value="1" min="1" [max]="totalPages"
                   placeholder="{{totalPages}}" aria-label="Username" [value]="page + 1"
                   aria-describedby="basic-addon1"
                   (change)="findPaginnation($event.target.value)">
          </li>
          <li class="page-item ">
            <span class="input-group-text page-link">{{page + 1}}/{{totalPages}}</span>
          </li>
          <div *ngIf="this.page  < this.totalPages-1 then nexts "></div>
          <ng-template #nexts>
            <li class="page-item">
              <button (click)="nextClick(1)" class="page-link" type="button">Trang sau</button>
            </li>
          </ng-template>
        </ul>
      </div>
    </div>
  </div>
</section>



<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

